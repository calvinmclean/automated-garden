{{ define "GardenModal" }}
<div id="modal" class="uk-modal" style="display:block;">
    <div class="uk-modal-dialog uk-modal-body">
        <h3 class="uk-modal-title uk-text-center">{{ if .Name }}{{ .Name }}{{ else }}Create Garden{{ end }}</h3>

        <form _="on submit take .uk-open from #modal" hx-put="/gardens/{{ .ID }}" hx-headers='{"Accept": "text/html"}'>
            <input type="hidden" value="{{ .ID }}" name="ID">
            <input type="hidden" value="{{ RFC3339Nano .CreatedAt }}" name="CreatedAt">
            <div class="uk-margin">
                <input class="uk-input" value="{{ .Name }}" placeholder="Name" name="Name">
            </div>
            <div class="uk-margin">
                <input class="uk-input" value="{{ .TopicPrefix }}" placeholder="Topic Prefix" name="TopicPrefix">
            </div>
            <div class="uk-margin">
                <input class="uk-input" value="{{ if .MaxZones }}{{ .MaxZones }}{{ else }}1{{ end }}"
                    placeholder="MaxZones" name="MaxZones">
            </div>

            <div class="uk-margin">
                <input class="uk-input" {{ if .LightSchedule }} value="{{ .LightSchedule.Duration }}" {{ end }}
                    placeholder="Light Schedule Duration" name="LightSchedule.Duration">
            </div>
            <div class="uk-margin">
                <input class="uk-input" {{ if .LightSchedule }} value="{{ .LightSchedule.StartTime }}" {{ end }}
                    placeholder="Light Schedule Start Time (15:04:05-07:00)" name="LightSchedule.StartTime">
            </div>

            <button type="submit" class="uk-button uk-button-primary">Save Changes</button>
            <button id="cancelButton" type="button" class="uk-button uk-button-default"
                _="on click take .uk-open from #modal wait 200ms then remove #modal">Close</button>
        </form>
    </div>
</div>
{{ end }}